{"componentChunkName":"component---src-templates-index-js","path":"/page/2/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"08dc19be-f7c0-5b0c-b50b-c2fe3c56c055","html":"<div class=\"toc-title\">目次</div>\n<div class=\"toc-block\">\n<ol>\n<li>\n<p><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに</a></p>\n</li>\n<li>\n<p><a href=\"#%E7%94%A8%E8%AA%9E\">用語</a></p>\n</li>\n<li>\n<p><a href=\"#%E5%90%84%E6%A9%9F%E8%83%BD%E3%81%AEdockerfile%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E4%BD%9C%E6%88%90\">各機能のDockerfile+設定ファイルを作成</a></p>\n<ol>\n<li>\n<p><a href=\"#1%E5%89%8D%E6%BA%96%E5%82%99\">1.前準備</a></p>\n</li>\n<li>\n<p><a href=\"#2nginx%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\">2.nginxの設定ファイル</a></p>\n<ol>\n<li><a href=\"#1dockerfile\">1.Dockerfile</a></li>\n<li><a href=\"#2defaultconf\">2.default.conf</a></li>\n</ol>\n</li>\n<li>\n<p><a href=\"#3php%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\">3.phpの設定ファイル</a></p>\n<ol>\n<li><a href=\"#1dockerfile-1\">1.Dockerfile</a></li>\n<li><a href=\"#2phpini\">2.php.ini</a></li>\n</ol>\n</li>\n<li>\n<p><a href=\"#4mysql%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\">4.mysqlの設定ファイル</a></p>\n<ol>\n<li><a href=\"#1dockerfile-2\">1.Dockerfile</a></li>\n<li><a href=\"#2myconf\">2.my.conf</a></li>\n</ol>\n</li>\n<li>\n<p><a href=\"#5docker-compose%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E4%BD%9C%E6%88%90\">5.Docker Composeの設定ファイルを作成</a></p>\n<ol>\n<li><a href=\"#1docker-composeyml%E3%82%92%E4%BD%9C%E6%88%90\">1.docker-compose.ymlを作成</a></li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p><a href=\"#%E3%81%95%E3%81%84%E3%81%94%E3%81%AB\">さいごに</a></p>\n</li>\n</ol>\n</div>\n<h2 id=\"はじめに\" style=\"position:relative;\"><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-label=\"はじめに permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はじめに</h2>\n<p>今回業務で開発環境を作る際に共有できるノウハウが存在しないチームだったので、展開できる方法を検討し、Dockerが最適だと判断し個人で勉強しチームに展開まで行いました。</p>\n<p>この通りやれば環境を再現してローカルで使える！というところまで、まとめたので時間がある限りブログに残そうかと思っています。</p>\n<p>今回は第三回目です。<br>\nDockerで環境構築する際に必要な設定ファイルを作成します。</p>\n<p>今回は記事的に長くなると思います。<br>\n読んで理解できる方は必要なものだけ見てもらってもOKです。</p>\n<p>Dockerのインストールやフォルダ作成が終わってない方は、前回の記事を参考にしてみてください。</p>\n<div class=\"boxparts ref\">\n  <div class=\"title\"></div>\n<p><a href=\"https://minememo.work/docker1\">【Docker】#1 はじめに+Dockerとは+Docker Desktopインストール</a><br>\n<a href=\"https://minememo.work/docker2\">【Docker】#2 ローカル(ホスト)に作業フォルダを作成</a></p>\n</div>\n<p>作成する環境は以下の通りです。</p>\n<ul>\n<li>windows pc</li>\n<li>php 8.0.23</li>\n<li>composer 2.4.1</li>\n<li>nginx 1.22.0</li>\n<li>MySQL 8.0.30</li>\n<li>Laravel 6.20.44</li>\n<li>phpMyAdmin最新</li>\n</ul>\n<p>参考にした教材は以下です。<br>\nこちらがなかったらここまで実現できなかったと思います。</p>\n<p>ありがとうございます。</p>\n<div class=\"boxparts ref\">\n  <div class=\"title\"></div>\n<p><a href=\"https://www.udemy.com/course/docker-startup/\">駆け出しエンジニアのためのDocker入門</a></p>\n<p><a href=\"https://qiita.com/hinako_n/items/f15646ea548bcdc8ac6c\">DockerでPHP（Laravel）+ nginx + MySQLのLEMP環境を構築する</a></p>\n</div>\n<p>なお、私自身はインフラ専門家ではないので、インフラの各種機能の設定値は深堀していません。<br>\n本気で事業で使う場合はインフラの専門家の方にDockerファイルを作成+本番環境での運用を想定してもらい、それを作業者は起動、運用するだけ、という風にするのが理想だと思います。</p>\n<h2 id=\"用語\" style=\"position:relative;\"><a href=\"#%E7%94%A8%E8%AA%9E\" aria-label=\"用語 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>用語</h2>\n<p>先によく出てくる用語だけ記載しておきます。<br>\n作業中にわからなくなったら見てください。</p>\n<table class=\"cps-table03\" style=\"height: 258px;\"><tbody><tr style=\"height: 19px;\"><th style=\"height: 19px; width: 189.703px;\">ホストOS</th><td class=\"rankinginfo\" style=\"height: 19px; width: 461.297px;\">作業側のパソコン。ローカルともいう</td></tr><tr style=\"height: 19px;\"><th style=\"height: 19px; width: 189.703px;\">Dockerfile</th><td class=\"rankinginfo\" style=\"height: 19px; width: 461.297px;\">イメージをビルドで作るためのDockerの設定ファイル</td></tr><tr style=\"height: 36px;\"><th style=\"height: 36px; width: 189.703px;\">イメージ</th><td class=\"rankinginfo\" style=\"height: 36px; width: 461.297px;\">コンテナを作成するためにDockerfileからビルドで作成されたもの。  \nDockerhubで配布されている公式のイメージもある。</td></tr><tr style=\"height: 19px;\"><th style=\"height: 19px; width: 189.703px;\">ビルド</th><td class=\"rankinginfo\" style=\"height: 19px; width: 461.297px;\">Dockerfileからイメージを作成する事</td></tr><tr style=\"height: 55px;\"><th style=\"height: 55px; width: 189.703px;\">コンテナ</th><td class=\"rankinginfo\" style=\"height: 55px; width: 461.297px;\">イメージから作成された各機能のこと。  \nサービスとも呼ばれる。  \nこのコンテナの集まりで環境が構築される</td></tr><tr style=\"height: 36px;\"><th style=\"height: 36px; width: 189.703px;\">docker-compose</th><td class=\"rankinginfo\" style=\"height: 36px; width: 461.297px;\">複数のコンテナを一気に作成したりできる一元管理機能。  \nDockerを使う場合実質必須になります。</td></tr><tr style=\"height: 74px;\"><th style=\"height: 74px; width: 189.703px;\">docker-compose.yml</th><td class=\"rankinginfo\" style=\"height: 74px; width: 461.297px;\">複数のコンテナを一気に作成、起動したりできるdocker-composeの一元管理ファイル。  \ndocker-composeをインストールしてdocker-compose.ymlを作成してdocker composeコマンドで実行して利用します。</td></tr></tbody></table>\n<h2 id=\"各機能のdockerfile設定ファイルを作成\" style=\"position:relative;\"><a href=\"#%E5%90%84%E6%A9%9F%E8%83%BD%E3%81%AEdockerfile%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E4%BD%9C%E6%88%90\" aria-label=\"各機能のdockerfile設定ファイルを作成 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>各機能のDockerfile+設定ファイルを作成</h2>\n<h3 id=\"1前準備\" style=\"position:relative;\"><a href=\"#1%E5%89%8D%E6%BA%96%E5%82%99\" aria-label=\"1前準備 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.前準備</h3>\n<p>前回docker#2で作成した。<br>\n以下のフォルダをベースに作成していきます。<br>\n未作成の方は前回の記事を参照して作成してみてください。</p>\n<p>前回フォルダを作成したので、今回は★のファイルを作成+設置を行います。</p>\n<p>Dockerfileは拡張なしのファイル名「Dockerfile」でOKです。</p>\n<p>設定ファイル内のコメントが基本説明になっているので、分からない場合は参考にしてください。<br>\n私自身が分かっていない部分もありますが、よろしくお願いします。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">nginx_mysql_laravel/\t　　　　TOPフォルダ。名前はコンテナ起動前(環境構築前)なら自由に変更可能\n├── laravel \t\t　　　　Laravelのソースコードが置かれるフォルダ=実作業フォルダ\n├── docker\t\t　　　　dockerの設定ファイルや環境設定ファイルを置くフォルダ。\n│ 　　　　　　　　　　　　　　　　ここの配下のフォルダ名を変える場合、\n│ 　　　　　　　　　　　　　　　　Dockerfileとかdocker-compose.ymlでパスの修正が必要です\n│   ├── php\t\t  　　　phpコンテナ(phpの環境構築設定ファイル)\n│   │   ├── Dockerfile★\t\tphpのDockerfile\n│   │   └── php.ini★\t\tphp設定ファイル環境立ち上げるときにコンテナにコピーされます\n│   ├── mysql \t\tMySQLコンテナ(MySQLの環境構築設定ファイル)\n│   │   ├── Dockerfile★\t\tMySQLのDockerfile\n│   │   └── my.conf★\t\tmysql 設定ファイル環境立ち上げるときにコンテナにコピーされます\n│   └── nginx\t\t　　　　nginxコンテナ(nginxの環境構築設定ファイル)\n│   │   ├── Dockerfile★\t\tnginxのDockerfile\n│   │   └── default.conf★\tnginx設定ファイル環境立ち上げるときにコンテナにコピーされます\n│   └── phpmyadmin\t\tphpMyAdminのデータが永続化される場所\n└──  docker-compose.yml★\t\t全コンテナの一括管理をするDockerの設定ファイル</code></pre></div>\n<h3 id=\"2nginxの設定ファイル\" style=\"position:relative;\"><a href=\"#2nginx%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\" aria-label=\"2nginxの設定ファイル permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.nginxの設定ファイル</h3>\n<p>docker\\nginx配下に以下2ファイルを設置します。</p>\n<h4 id=\"1dockerfile\" style=\"position:relative;\"><a href=\"#1dockerfile\" aria-label=\"1dockerfile permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.Dockerfile</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#nginxのイメージを作成する自作ファイル\n\n#Docker Hub公式からPHPのイメージファイルを使用します。\n#nginxは1.18, 1.20などの偶数バージョンが安定バージョンであり、安定バージョンの使用を推奨されています。\n\n#※Alpineでのbashについて\n#　Alpineをベースとすると bash は使えず、 ash や sh は使えるようです。\n\n#イメージ名:タグ(version指定)\nFROM nginx:1.22-alpine\n\n#サーバー内の環境変数\nENV TZ Asia/Tokyo\n\n#nginxの設定ファイル（default.conf）をDockerの仮想環境内のコンテナ内にコピーします。\nCOPY ./docker/nginx/default.conf /etc/nginx/conf.d/default.conf</code></pre></div>\n<h4 id=\"2defaultconf\" style=\"position:relative;\"><a href=\"#2defaultconf\" aria-label=\"2defaultconf permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.default.conf</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#nginx設定ファイル\n#あまり詳しくないので以下の記事から引用させていただきコメント追加しています。\n#https://qiita.com/hinako_n/items/f15646ea548bcdc8ac6c\n\nserver {\n    listen 80;\n    server_name example.com;\n\n    #ドキュメントルート\n    #localhost:8081でアクセスした場合に表示されるディレクトリ\n    #dockerコンテナのルートに書き換え\n    root /app/public;\n\n    add_header X-Frame-Options \"SAMEORIGIN\";\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header X-Content-Type-Options \"nosniff\";\n\n    index index.php;\n\n    charset utf-8;\n\n    location / {\n        try_files $uri $uri/ /index.php?$query_string;\n    }\n\n    location = /favicon.ico { access_log off; log_not_found off; }\n    location = /robots.txt  { access_log off; log_not_found off; }\n\n    error_page 404 /index.php;\n\n    location ~ \\.php$ {\n        #FastCGIサーバーのアドレス\n        #FastCGI：Webサーバ上で動くプログラムを一度起動したらしばらく待機させることによって、プログラムの開始と終了にかかる手間を減らし、動きを速くしたりWebサーバの負荷を軽減することができる仕組み\n        #dockerコンテナのphpのポートに書き換え\n        #コンテナ起動後にdocker psで確認したphpのサービスのPORTSが9000/tcpだったので9000になっているっぽい\n        #通常は127.0.0.1:9000に設定されるが、docker-composeはサービス名(今回はphp)にipが自動で振られるのでサービス名にする\n        #参考：https://www.membersedge.co.jp/blog/laravel-development-environment-with-docker-compose/\n\n        fastcgi_pass php:9000;\n        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;\n        include fastcgi_params;\n    }\n\n    location ~ /\\.(?!well-known).* {\n        deny all;\n    }\n}</code></pre></div>\n<h3 id=\"3phpの設定ファイル\" style=\"position:relative;\"><a href=\"#3php%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\" aria-label=\"3phpの設定ファイル permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.phpの設定ファイル</h3>\n<p>docker\\php配下に以下2ファイルを設置します。</p>\n<h4 id=\"1dockerfile-1\" style=\"position:relative;\"><a href=\"#1dockerfile-1\" aria-label=\"1dockerfile 1 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.Dockerfile</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#PHPのイメージを作成する自作ファイル\n\n#Docker Hub公式からPHPのイメージファイルを使用する\n#Laravel 6はphp8.1対応してないみたいなので8.0で。\n#この8.0の部分を変更するだけでバージョン変更できるので簡単！\n\n#イメージ名:タグ(version指定)\n# FROM php:8.1-fpm \nFROM php:8.0-fpm\n\n#サーバー内の環境変数\nENV TZ Asia/Tokyo\n\n#RUN:コンテナビルド時に実行するコマンド\n#インストール可能なパッケージの「一覧」を更新\nRUN apt-get update &amp;&amp; \\\n    #パッケージをインストール(ここでコンテナにnpmやgitなども入ります)\n    #インストール先の確認はdocker-compose exec php dpkg -L パッケージ名でできる\n    #gitの場合 docker-compose exec php dpkg -L git\n    #docker-compose execはdockerのコンテナ内でコマンドを実行するコマンドです。\n\tapt-get install -y git unzip libzip-dev libicu-dev libonig-dev nodejs npm &amp;&amp; \\\n    #PHPの拡張ライブラリをインストール\n\tdocker-php-ext-install intl pdo_mysql zip bcmath\n\n#php.ini(PHPの設定ファイル)をDockerの仮想環境のコンテナにコピー\n#php.iniは自分で用意する必要がある\nCOPY ./docker/php/php.ini /usr/local/etc/php/php.ini\n\n#Laravelを使うためComposerをインストール\n#本当はRUNでコマンドを実行しComposerをインストールしてもいいが、マルチステージビルドという方法でイメージの軽量化を図るための書き方です。\n#この方法でやるのが最近見た感じ多そうでした。\nCOPY --from=composer:2.4.1 /usr/bin/composer /usr/bin/composer\n\n#コンテナ起動中にdocker-compose exec コンテナ名 bash でコンテナ内でbashを動かせるのだが、その際のカレントディレクトリ(初期位置)になる\nWORKDIR /app</code></pre></div>\n<h4 id=\"2phpini\" style=\"position:relative;\"><a href=\"#2phpini\" aria-label=\"2phpini permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.php.ini</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#一般的な設定について、あまり詳しくないので以下から引用させてもらっています。\n#https://qiita.com/hinako_n/items/f15646ea548bcdc8ac6c\n\nzend.exception_ignore_args = off\nexpose_php = on\nmax_execution_time = 30\nmax_input_vars = 1000\nupload_max_filesize = 64M\npost_max_size = 128M\nmemory_limit = 256M\nerror_reporting = E_ALL\ndisplay_errors = on\ndisplay_startup_errors = on\nlog_errors = on\nerror_log = /var/log/php/php-error.log\ndefault_charset = UTF-8\n\n[Date]\ndate.timezone = Asia/Tokyo\n\n[mysqlnd]\nmysqlnd.collect_memory_statistics = on\n\n[Assertion]\nzend.assertions = 1\n\n[mbstring]\nmbstring.language = Japanese</code></pre></div>\n<h3 id=\"4mysqlの設定ファイル\" style=\"position:relative;\"><a href=\"#4mysql%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\" aria-label=\"4mysqlの設定ファイル permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.mysqlの設定ファイル</h3>\n<h4 id=\"1dockerfile-2\" style=\"position:relative;\"><a href=\"#1dockerfile-2\" aria-label=\"1dockerfile 2 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.Dockerfile</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#mysqlのイメージを作成する自作ファイル\n\n#Docker Hub公式からイメージファイルを使用する\n#イメージ名:タグ(version指定)\nFROM mysql:8.0\n\n#MySQLの設定ファイル（my.conf）Docker内の仮想環境のコンテナ内にコピー\nCOPY ./docker/mysql/my.conf /etc/my.conf</code></pre></div>\n<h4 id=\"2myconf\" style=\"position:relative;\"><a href=\"#2myconf\" aria-label=\"2myconf permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.my.conf</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#あまり詳しくないので以下から引用させていただいてます。\n#https://qiita.com/hinako_n/items/f15646ea548bcdc8ac6c\n\n[mysqld]\n# character\ncharacter_set_server = utf8mb4\ncollation_server = utf8mb4_0900_ai_ci\n\n# timezone\ndefault-time-zone = SYSTEM\nlog_timestamps = SYSTEM\n\n# Error Log\nlog-error = mysql-error.log\n\n# Slow Query Log\nslow_query_log = 1\nslow_query_log_file = mysql-slow.log\nlong_query_time = 1.0\nlog_queries_not_using_indexes = 0\n\n# General Log\ngeneral_log = 1\ngeneral_log_file = mysql-general.log\n\n[mysql]\ndefault-character-set = utf8mb4\n\n[client]\ndefault-character-set = utf8mb4</code></pre></div>\n<h3 id=\"5docker-composeの設定ファイルを作成\" style=\"position:relative;\"><a href=\"#5docker-compose%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E4%BD%9C%E6%88%90\" aria-label=\"5docker composeの設定ファイルを作成 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.Docker Composeの設定ファイルを作成</h3>\n<p>nginx_mysql_laravel フォルダ直下にdocker-compose.ymlを作成し設置してください。</p>\n<p>docker-compose.ymlは上記1-4で作成したDockerfile+phpMyAdminを一括で起動、管理するために必要なファイルになります。</p>\n<h4 id=\"1docker-composeymlを作成\" style=\"position:relative;\"><a href=\"#1docker-composeyml%E3%82%92%E4%BD%9C%E6%88%90\" aria-label=\"1docker composeymlを作成 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.docker-compose.ymlを作成</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#参考\n#https://qiita.com/hinako_n/items/f15646ea548bcdc8ac6c\n#https://qiita.com/ucan-lab/items/56c9dc3cf2e6762672f4\n\n#Docker Composeのバージョン\n#https://docs.docker.jp/compose/compose-file/compose-versioning.html#compose-file-versioning\n#※Compose 最新バージョンが3.9みたいなので、それで記載してます。\n#※いまいち最新の推奨が何なのかはわかってないです。すみません。\nversion: \"3.9\"\n\n#使うサービス(機能)を書いていく\nservices:\n  #サービス名(任意で命名)\n  php:\n    #自作のDockerfileからイメージ生成するための記載\n    build:\n      #ビルドを実行する場所\n      context: .\n      #Dockerfileまでのdocker-compose.ymlから見た相対パス\n      dockerfile: ./docker/php/Dockerfile\n    # コンテナを指定しやすくするための名前指定(任意)\n    container_name: php\n    #データの永続化(Dockerを切ってもデータが残るようにする)\n    #Dockerはメモリ上で動くので、永続化しないと作業データが残らなくなります。\n    volumes:\n      #ホスト側の ./laravel/をコンテナ側の /app にマウントし永続化する\n      #コンテナにappフォルダが、ローカルにlaravelフォルダが自動で作成され共有状態になる\n      #※＝ローカルにデータが残り共有されるのでデータの永続化になります。\n      - ./laravel/:/app\n\n  #サービス名  \n  nginx:\n    build:\n      context: .\n      dockerfile: ./docker/nginx/Dockerfile\n    # コンテナを指定しやすくするための名前指定(任意)\n    container_name: nx\n    #http://localhost:ポート番号でアクセスするためのポートフォワーディング設定\n    #ローカルのポート:コンテナのポートと記載する\n    #今回は8081で80(nginxのデフォルトのポート)にポートフォワーディングしてる\n    ports:\n      - 8081:80\n    #サービスの起動順序を制御\n    #php → web の順に起動するように指定\n    #この辺わかってないですが、無くても動くみたいです。\n    depends_on:\n      - php\n    volumes:\n      - ./laravel/:/app\n\n  #サービス名  \n  mysql:\n    build:\n      context: .\n      dockerfile: ./docker/mysql/Dockerfile\n    # コンテナを指定しやすくするための名前指定(任意)\n    container_name: mysql\n    #http://localhost:ポート番号でアクセスするためのポートフォワーディング設定\n    #ローカルのポート:コンテナのポートと記載する\n    ports:\n      - 3306:3306\n    #環境変数の設定。この内容をLaravelの設定ファイルにも書きます。\n    #実際のプロジェクト管理では、環境変数は .env に書いて .gitignore にするなどして、重要な情報が公開されないようにします。\n    environment:\n      MYSQL_DATABASE: database\n      MYSQL_USER: user\n      MYSQL_PASSWORD: password\n      MYSQL_ROOT_PASSWORD: password\n      TZ: 'Asia/Tokyo'\n    volumes:\n      #名前付きボリュームでDBのデータを永続化\n      #Docker内で保持される、一見するとどこに行ったかわからなくなる\n      #確認方法はdocker volume ls、docker volume inspectのMountpointでコンテナ内のパスや名前が確認できる\n      #名前付きボリュームは--volumeオプションで指定して消さないといけない。\n      #しれっとたまるのでデスクトップアプリやdocker volume lsで確認するといい\n\n      #重くなったら以下で整理\n      #docker volume prune:未使用のものをディレクトリ関係なく全領域からもろとも削除\n      #docker-compose down --volumes:今いるディレクトリに対してコンテナ停止、削除、ボリュームを削除する\n      - mysql-volume:/var/lib/mysql\n\n  # phpMyadminのコンテナ作成\n  phpmyadmin:\n    #nginxがあるのでfpm版でと思ったけど、ApacheWebサーバーが含まれてるphpmyadmin:latestにしてます。\n    #※別のWebサーバーが既にある場合phpmyadmin:fpmって書いてあったけど、上手く動かせませんでした\n    \n    #よくphpmyadmin/phpmyadminが使われてるがこれはphpmyadminがdockerHubの公式になるまえのイメージなので、今後は公式のイメージが推奨されてる\n    #https://hub.docker.com/_/phpmyadmin\n    image: phpmyadmin:latest\n\n    #サービスの起動順序を制御\n    #mysql → phpmyadmin の順に起動するように指定\n    #この辺わかってないですが、無くても動くみたいです。\n    depends_on:\n      - mysql\n    container_name: phpmyadmin\n    ports:\n      - \"8080:80\"\n    #phpMyAdmin設定値\n    #https://hub.docker.com/_/phpmyadmin\n    environment:\n      #1に設定すると、任意のサーバーへの接続が許可される\n      - PMA_ARBITRARY=1\n      #サーバーのホスト名かIPアドレスをサービス名で指定\n      #本ファイルの場合mysqlになる\n      - PMA_HOSTS=mysql\n      #サーバーに接続するユーザー名\n      - PMA_USER=root\n      #SQLサーバーに接続するユーザーのパスワード\n      - PMA_PASSWORD=password\n    volumes:\n      - ./docker/phpmyadmin/sessions:/sessions\n#名前付きボリュームの名前(一番下にかく)\nvolumes:\n  mysql-volume:</code></pre></div>\n<div class=\"boxparts ref\">\n  <div class=\"title\"></div>\n<p><strong>Docker Composeで一括管理、起動する理由</strong></p>\n<p>Dockerfileは一つのコンテナのイメージ情報しか持っていません。</p>\n<p>そのため複数コンテナで構築される仮想環境の場合は、docker-compose.ymlで一括管理して起動することで、起動する手間や一個一個起動した際の予期せぬエラーを防ぐことができます。</p>\n<p>例)<br>\nDockerfileをコンテナにする場合は以下2つのコマンドを使います。</p>\n<p>1.docker build(イメージ化)<br>\n2.docker run(イメージをコンテナ化)</p>\n<p>今回はMySQL、php、nginx、phpMyAdminの四つのコンテナで構成されてるので、docker-compose.ymlを使わない場合、毎回起動時にこのセットを4回しないといけなくなります。</p>\n</div>\n<h2 id=\"さいごに\" style=\"position:relative;\"><a href=\"#%E3%81%95%E3%81%84%E3%81%94%E3%81%AB\" aria-label=\"さいごに permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>さいごに</h2>\n<p>今回はこれで完了です。<br>\nお疲れ様でした。</p>\n<p>次回は4「Laravelをコマンドでインストール」を行います。<br>\nその後5で実際にコンテナを起動していきます。</p>\n<p>Dockerシリーズの全体の流れとしては、大きく以下のようになっています。</p>\n<ol>\n<li>Docker Desktopインストール</li>\n<li>ローカルに作業フォルダを作成</li>\n<li>Dockerの設定ファイルを作成</li>\n<li>Laravelをコマンドでインストール</li>\n<li>dockerでコンテナ(機能)を起動+Laravel表示確認</li>\n<li>LaravelのDB設定、確認</li>\n<li>phpMyAdmin表示確認</li>\n<li>出来てる環境の確認</li>\n</ol>\n<div class=\"balloon\">\n  <div class=\"icon\"></div>\n  <div class=\"talk\">\n今回はここでおわりです。 Dockerはコンテナ？イメージ？Dockerfile?docker-compose.yml?などの役割が頭に入ってくると理解しやすくなりますが、  \nそこも慣れなので、焦らずにやっていきましょう。\n  </div>\n</div>","timeToRead":12,"frontmatter":{"title":"【Docker】#3 Dockerfile+docker-compose.yml+各設定ファイルの設置","date":"2022-10-13","slug":"docker3","hero_image":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#083888","images":{"fallback":{"src":"/static/574cd5fb147070ce27674d66e78170e0/cd58f/docker_icon.jpg","srcSet":"/static/574cd5fb147070ce27674d66e78170e0/0f14f/docker_icon.jpg 48w,\n/static/574cd5fb147070ce27674d66e78170e0/db73f/docker_icon.jpg 95w,\n/static/574cd5fb147070ce27674d66e78170e0/cd58f/docker_icon.jpg 190w","sizes":"(min-width: 190px) 190px, 100vw"},"sources":[{"srcSet":"/static/574cd5fb147070ce27674d66e78170e0/7c30c/docker_icon.webp 48w,\n/static/574cd5fb147070ce27674d66e78170e0/2fb9c/docker_icon.webp 95w,\n/static/574cd5fb147070ce27674d66e78170e0/9524e/docker_icon.webp 190w","type":"image/webp","sizes":"(min-width: 190px) 190px, 100vw"}]},"width":190,"height":85}}]}}}},{"node":{"id":"98bf26a1-1230-53eb-851e-2407902ece33","html":"<div class=\"toc-title\">目次</div>\n<div class=\"toc-block\">\n<ol>\n<li><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに</a></li>\n<li><a href=\"#%E7%94%A8%E8%AA%9E\">用語</a></li>\n<li><a href=\"#%E3%83%9B%E3%82%B9%E3%83%88%E3%81%AB%E4%BD%9C%E6%A5%AD%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%82%92%E4%BD%9C%E6%88%90\">ホストに作業フォルダを作成</a></li>\n<li><a href=\"#%E3%81%95%E3%81%84%E3%81%94%E3%81%AB\">さいごに</a></li>\n</ol>\n</div>\n<h2 id=\"はじめに\" style=\"position:relative;\"><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-label=\"はじめに permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はじめに</h2>\n<p>今回業務で開発環境を作る際に共有できるノウハウが存在しないチームだったので、展開できる方法を検討し、Dockerが最適だと判断し個人で勉強しチームに展開まで行いました。</p>\n<p>この通りやれば環境を再現してローカルで使える！というところまで、まとめたので時間がある限りブログに残そうかと思っています。</p>\n<p>今回は第二回目です。<br>\nホスト(ローカル環境)に作業用のフォルダを作成します。</p>\n<p>Dockerのインストールが終わってない方は、一回目の記事を参考にインストールしてみてください。</p>\n<div class=\"boxparts ref\">\n  <div class=\"title\"></div>\n<p><a href=\"https://minememo.work/docker1\">【Docker】#1 はじめに+Dockerとは+Docker Desktopインストール</a></p>\n</div>\n<p>作成する環境は以下の通りです。</p>\n<ul>\n<li>windows pc</li>\n<li>php 8.0.23</li>\n<li>composer 2.4.1</li>\n<li>nginx 1.22.0</li>\n<li>MySQL 8.0.30</li>\n<li>Laravel 6.20.44</li>\n<li>phpMyAdmin最新</li>\n</ul>\n<p>参考にした教材は以下です。<br>\nこちらがなかったらここまで実現できなかったと思います。</p>\n<p>ありがとうございます。</p>\n<div class=\"boxparts ref\">\n  <div class=\"title\"></div>\n<p><a href=\"https://www.udemy.com/course/docker-startup/\">駆け出しエンジニアのためのDocker入門</a></p>\n<p><a href=\"https://qiita.com/hinako_n/items/f15646ea548bcdc8ac6c\">DockerでPHP（Laravel）+ nginx + MySQLのLEMP環境を構築する</a></p>\n</div>\n<p>なお、私自身はインフラ専門家ではないので、インフラの各種機能の設定値は深堀していません。<br>\n本気で事業で使う場合はインフラの専門家の方にDockerファイルを作成+本番環境での運用を想定してもらい、それを作業者は起動、運用するだけ、という風にするのが理想だと思います。</p>\n<h2 id=\"用語\" style=\"position:relative;\"><a href=\"#%E7%94%A8%E8%AA%9E\" aria-label=\"用語 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>用語</h2>\n<p>先によく出てくる用語だけ記載しておきます。<br>\n作業中にわからなくなったら見てください。</p>\n<table class=\"cps-table03\" style=\"height: 258px;\"><tbody><tr style=\"height: 19px;\"><th style=\"height: 19px; width: 189.703px;\">ホストOS</th><td class=\"rankinginfo\" style=\"height: 19px; width: 461.297px;\">作業側のパソコン。ローカルともいう</td></tr><tr style=\"height: 19px;\"><th style=\"height: 19px; width: 189.703px;\">Dockerfile</th><td class=\"rankinginfo\" style=\"height: 19px; width: 461.297px;\">イメージをビルドで作るためのDockerの設定ファイル</td></tr><tr style=\"height: 36px;\"><th style=\"height: 36px; width: 189.703px;\">イメージ</th><td class=\"rankinginfo\" style=\"height: 36px; width: 461.297px;\">コンテナを作成するためにDockerfileからビルドで作成されたもの。  \nDockerhubで配布されている公式のイメージもある。</td></tr><tr style=\"height: 19px;\"><th style=\"height: 19px; width: 189.703px;\">ビルド</th><td class=\"rankinginfo\" style=\"height: 19px; width: 461.297px;\">Dockerfileからイメージを作成する事</td></tr><tr style=\"height: 55px;\"><th style=\"height: 55px; width: 189.703px;\">コンテナ</th><td class=\"rankinginfo\" style=\"height: 55px; width: 461.297px;\">イメージから作成された各機能のこと。  \nサービスとも呼ばれる。  \nこのコンテナの集まりで環境が構築される</td></tr><tr style=\"height: 36px;\"><th style=\"height: 36px; width: 189.703px;\">docker-compose</th><td class=\"rankinginfo\" style=\"height: 36px; width: 461.297px;\">複数のコンテナを一気に作成したりできる一元管理機能。  \nDockerを使う場合実質必須になります。</td></tr><tr style=\"height: 74px;\"><th style=\"height: 74px; width: 189.703px;\">docker-compose.yml</th><td class=\"rankinginfo\" style=\"height: 74px; width: 461.297px;\">複数のコンテナを一気に作成、起動したりできるdocker-composeの一元管理ファイル。  \ndocker-composeをインストールしてdocker-compose.ymlを作成してdocker composeコマンドで実行して利用します。</td></tr></tbody></table>\n<h2 id=\"ホストに作業フォルダを作成\" style=\"position:relative;\"><a href=\"#%E3%83%9B%E3%82%B9%E3%83%88%E3%81%AB%E4%BD%9C%E6%A5%AD%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%82%92%E4%BD%9C%E6%88%90\" aria-label=\"ホストに作業フォルダを作成 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ホストに作業フォルダを作成</h2>\n<p>以下★マークのフォルダを作成してください。<br>\n空で大丈夫です。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">nginx_mysql_laravel/★\t　　　　TOPフォルダ。名前はコンテナ起動前(環境構築前)なら自由に変更可能\n├── laravel★ \t\t　　　　Laravelのソースコードが置かれるフォルダ=実作業フォルダ\n├── docker★\t\t　　　　dockerの設定ファイルや環境設定ファイルを置くフォルダ。\n│ 　　　　　　　　　　　　　　　　ここの配下のフォルダ名を変える場合、\n│ 　　　　　　　　　　　　　　　　Dockerfileとかdocker-compose.ymlでパスの修正が必要です\n│   ├── php★\t\t  　　　phpコンテナ(phpの環境構築設定ファイル)\n│   │   ├── Dockerfile\t\tphpのDockerfile\n│   │   └── php.ini\t\tphp設定ファイル環境立ち上げるときにコンテナにコピーされます\n│   ├── mysql★ \t\tMySQLコンテナ(MySQLの環境構築設定ファイル)\n│   │   ├── Dockerfile\t\tMySQLのDockerfile\n│   │   └── my.conf\t\tmysql 設定ファイル環境立ち上げるときにコンテナにコピーされます\n│   └── nginx★\t\t　　　　nginxコンテナ(nginxの環境構築設定ファイル)\n│   │   ├── Dockerfile\t\tnginxのDockerfile\n│   │   └── default.conf\tnginx設定ファイル環境立ち上げるときにコンテナにコピーされます\n│   └── phpmyadmin★\t\tphpMyAdminのデータが永続化される場所\n└──  docker-compose.yml\t\t全コンテナの一括管理をするDockerの設定ファイル</code></pre></div>\n<div class=\"boxparts caution\">\n  <div class=\"title\"></div>\n<p><span style=\"color: #ff0000;\"><strong>Dockerでコンテナを作った後に、フォルダ名変更などローカルのフォルダのパスが変わるようなことはしないでください。</strong></span></p>\n<p>どうなるか試したのですが、イメージもコンテナも消せなくなりました。<br>\n(強制削除もDockerデスクトップアプリでの削除もできませんでした)</p>\n<p>一旦同じフォルダ名で同じdocker-compose.yml、dockerfileを用意したら消すことができたのですが、<br>\nよくわからない状態になるので注意してください。</p>\n</div>\n<h2 id=\"さいごに\" style=\"position:relative;\"><a href=\"#%E3%81%95%E3%81%84%E3%81%94%E3%81%AB\" aria-label=\"さいごに permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>さいごに</h2>\n<p>今回はこれで完了です。<br>\n次回は3「Dockerの設定ファイルを作成」を行います。</p>\n<p>全体の流れとしては、大きく以下のようになっています。</p>\n<ol>\n<li>Docker Desktopインストール</li>\n<li>ローカルに作業フォルダを作成</li>\n<li>Dockerの設定ファイルを作成</li>\n<li>Laravelをコマンドでインストール</li>\n<li>dockerでコンテナ(機能)を起動+Laravel表示確認</li>\n<li>LaravelのDB設定、確認</li>\n<li>phpMyAdmin表示確認</li>\n<li>出来てる環境の確認</li>\n</ol>\n<div class=\"balloon\">\n  <div class=\"icon\"></div>\n  <div class=\"talk\">\n今回はここでおわりです。<br>\nDockerはコンテナ？イメージ？Dockerfile?docker-compose.yml?などの役割が頭に入ってくると理解しやすくなりますが、  \nそこも慣れなので、焦らずにやっていきましょう。\n  </div>\n</div>","timeToRead":4,"frontmatter":{"title":"【Docker】#2 ローカル(ホスト)に作業フォルダを作成","date":"2022-10-12","slug":"docker2","hero_image":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#083888","images":{"fallback":{"src":"/static/574cd5fb147070ce27674d66e78170e0/cd58f/docker_icon.jpg","srcSet":"/static/574cd5fb147070ce27674d66e78170e0/0f14f/docker_icon.jpg 48w,\n/static/574cd5fb147070ce27674d66e78170e0/db73f/docker_icon.jpg 95w,\n/static/574cd5fb147070ce27674d66e78170e0/cd58f/docker_icon.jpg 190w","sizes":"(min-width: 190px) 190px, 100vw"},"sources":[{"srcSet":"/static/574cd5fb147070ce27674d66e78170e0/7c30c/docker_icon.webp 48w,\n/static/574cd5fb147070ce27674d66e78170e0/2fb9c/docker_icon.webp 95w,\n/static/574cd5fb147070ce27674d66e78170e0/9524e/docker_icon.webp 190w","type":"image/webp","sizes":"(min-width: 190px) 190px, 100vw"}]},"width":190,"height":85}}]}}}},{"node":{"id":"14fe6d70-2183-5e3c-ac62-d4b81998f15b","html":"<div class=\"toc-title\">目次</div>\n<div class=\"toc-block\">\n<ol>\n<li>\n<p><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに</a></p>\n</li>\n<li>\n<p><a href=\"#docker%E3%81%A8%E3%81%AF\">Dockerとは</a></p>\n<ol>\n<li><a href=\"#%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE\">環境構築に必要なもの</a></li>\n</ol>\n</li>\n<li>\n<p><a href=\"#docker-desktop%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\">Docker Desktopインストール</a></p>\n<ol>\n<li><a href=\"#1docker%E3%81%AE%E5%85%AC%E5%BC%8F%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9\">1.Dockerの公式サイトにアクセス</a></li>\n<li><a href=\"#2-download-for-windows%E3%82%92%E3%82%AF%E3%83%AA%E3%83%83%E3%82%AF\">2. Download for Windowsをクリック</a></li>\n<li><a href=\"#3docker-desktop-installerexe%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%97%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\">3.Docker Desktop Installer.exeを実行しインストール</a></li>\n<li><a href=\"#4dockerhub%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E4%BD%9C%E6%88%90\">4.dockerHubアカウント作成</a></li>\n</ol>\n</li>\n<li>\n<p><a href=\"#%E3%81%95%E3%81%84%E3%81%94%E3%81%AB\">さいごに</a></p>\n</li>\n</ol>\n</div>\n<h2 id=\"はじめに\" style=\"position:relative;\"><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-label=\"はじめに permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はじめに</h2>\n<p>今回業務で開発環境を作る際に共有できるノウハウが存在しないチームだったので、展開できる方法を検討し、Dockerが最適だと判断し個人で勉強しチームに展開まで行いました。</p>\n<p>この通りやれば環境を再現してローカルで使える！というところまで、まとめたので時間がある限りブログに残そうかと思っています。</p>\n<p>作成する環境は以下の通りです。</p>\n<ul>\n<li>windows pc</li>\n<li>php 8.0.23</li>\n<li>composer 2.4.1</li>\n<li>nginx 1.22.0</li>\n<li>MySQL 8.0.30</li>\n<li>Laravel 6.20.44</li>\n<li>phpMyAdmin最新</li>\n</ul>\n<p>参考にした教材は以下です。<br>\nこちらがなかったらここまで実現できなかったと思います。</p>\n<p>ありがとうございます。</p>\n<div class=\"boxparts ref\">\n  <div class=\"title\"></div>\n<p><a href=\"https://www.udemy.com/course/docker-startup/\">駆け出しエンジニアのためのDocker入門</a></p>\n<p><a href=\"https://qiita.com/hinako_n/items/f15646ea548bcdc8ac6c\">DockerでPHP（Laravel）+ nginx + MySQLのLEMP環境を構築する</a></p>\n</div>\n<p>なお、私自身はインフラ専門家ではないので、インフラの各種機能の設定値は深堀していません。<br>\n本気で事業で使う場合はインフラの専門家の方にDockerファイルを作成+本番環境での運用を想定してもらい、それを作業者は起動、運用するだけ、という風にするのが理想だと思います。</p>\n<h2 id=\"dockerとは\" style=\"position:relative;\"><a href=\"#docker%E3%81%A8%E3%81%AF\" aria-label=\"dockerとは permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dockerとは</h2>\n<p>環境構築を設定ファイルとコマンドで行えるツールです。<br>\n設定ファイルとコマンドで成り立つため、個人個人で環境の統一がしやすいのがメリットです。</p>\n<p>Dockerの設定ファイルになれればバージョンの変更も容易なので、最初の敷居は高めですが、なれるとDocker一択！というほどお手軽で便利でチームで使いやすいものだと感じました。</p>\n<p>手順を体系的に書いてわたすのがすごく楽になります。</p>\n<h3 id=\"環境構築に必要なもの\" style=\"position:relative;\"><a href=\"#%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE\" aria-label=\"環境構築に必要なもの permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>環境構築に必要なもの</h3>\n<table class=\"cps-table03\"><tbody><tr><th>Docker</th><td class=\"rankinginfo\">今回のメインツール</td></tr><tr><th>プロジェクトフォルダ</th><td class=\"rankinginfo\">ローカルPCの作業フォルダ。  \nこの構造に沿って、docker-compose.ymlで共有フォルダのパスなどを設定し環境を動かす基盤にする</td></tr><tr><th>phpやdbなどの設定ファイル</th><td class=\"rankinginfo\">使う機能の設定ファイルは自分で用意する必要があります</td></tr><tr><th>Dockerfile</th><td class=\"rankinginfo\">Dockerイメージをビルドする設定ファイル</td></tr><tr><th>docker-compose.yml</th><td class=\"rankinginfo\">イメージからコンテナを一括で起動、管理するファイル</td></tr></tbody></table>\n<h2 id=\"docker-desktopインストール\" style=\"position:relative;\"><a href=\"#docker-desktop%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-label=\"docker desktopインストール permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker Desktopインストール</h2>\n<p>最初はDockerを使うためのアプリをインストールしましょう。<br>\nこのアプリを起動してDockerで仮想環境を起動します。</p>\n<h3 id=\"1dockerの公式サイトにアクセス\" style=\"position:relative;\"><a href=\"#1docker%E3%81%AE%E5%85%AC%E5%BC%8F%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9\" aria-label=\"1dockerの公式サイトにアクセス permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.Dockerの公式サイトにアクセス</h3>\n<p><a href=\"https://www.docker.com/get-started/\">https://www.docker.com/get-started/</a></p>\n<h3 id=\"2-download-for-windowsをクリック\" style=\"position:relative;\"><a href=\"#2-download-for-windows%E3%82%92%E3%82%AF%E3%83%AA%E3%83%83%E3%82%AF\" aria-label=\"2 download for windowsをクリック permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Download for Windowsをクリック</h3>\n<p>※ちょっと下のSee Docker Desktop for Windowsも同じです</p>\n<h3 id=\"3docker-desktop-installerexeを実行しインストール\" style=\"position:relative;\"><a href=\"#3docker-desktop-installerexe%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%97%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-label=\"3docker desktop installerexeを実行しインストール permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.Docker Desktop Installer.exeを実行しインストール</h3>\n<p>※結構時間かかりますが、いわれるがまま実行で大丈夫です。</p>\n<div class=\"boxparts caution\">\n  <div class=\"title\"></div>\n<p><strong>DockerDesktop(Docker for Windows)とVirtualBoxについて</strong></p>\n<p>VirtualBoxとDockerDesktopは共存できないみたいです。</p>\n<p>もしこの問題がある場合は、現在非推奨のDocker tool boxであれば一応Dockerを使うことができます。</p>\n<p>Docker tool boxはつかったことないので、今回は割愛します。</p>\n</div>\n<h3 id=\"4dockerhubアカウント作成\" style=\"position:relative;\"><a href=\"#4dockerhub%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E4%BD%9C%E6%88%90\" aria-label=\"4dockerhubアカウント作成 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.dockerHubアカウント作成</h3>\n<p><a href=\"https://hub.docker.com/\">https://hub.docker.com/</a></p>\n<p>※アカウント作成しないとdocker hub からイメージという主要ファイルをDL(pull)できなかったりするケースがあるそうです。</p>\n<h2 id=\"さいごに\" style=\"position:relative;\"><a href=\"#%E3%81%95%E3%81%84%E3%81%94%E3%81%AB\" aria-label=\"さいごに permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>さいごに</h2>\n<p>これでDockerのインストールや登録などの事前準備は完了です。<br>\n今後の流れとしては、大きく以下のようになります。</p>\n<ol>\n<li>Docker Desktopインストール</li>\n<li>ローカルに作業フォルダを作成</li>\n<li>Dockerの設定ファイルを作成</li>\n<li>Laravelをコマンドでインストール</li>\n<li>dockerでコンテナ(機能)を起動+Laravel表示確認</li>\n<li>LaravelのDB設定、確認</li>\n<li>phpMyAdmin表示確認</li>\n<li>出来てる環境の確認</li>\n</ol>\n<div class=\"balloon\">\n  <div class=\"icon\"></div>\n  <div class=\"talk\">\n今回はここでおわりです。<br>\nDockerはコンテナ？イメージ？Dockerfile?docker-compose.yml?などの役割が頭に入ってくると理解しやすくなりますが、  \nそこも慣れなので、焦らずにやっていきましょう。\n  </div>\n</div>","timeToRead":3,"frontmatter":{"title":"【Docker】#1 はじめに+Dockerとは+Docker Desktopインストール","date":"2022-10-11","slug":"docker1","hero_image":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#083888","images":{"fallback":{"src":"/static/574cd5fb147070ce27674d66e78170e0/cd58f/docker_icon.jpg","srcSet":"/static/574cd5fb147070ce27674d66e78170e0/0f14f/docker_icon.jpg 48w,\n/static/574cd5fb147070ce27674d66e78170e0/db73f/docker_icon.jpg 95w,\n/static/574cd5fb147070ce27674d66e78170e0/cd58f/docker_icon.jpg 190w","sizes":"(min-width: 190px) 190px, 100vw"},"sources":[{"srcSet":"/static/574cd5fb147070ce27674d66e78170e0/7c30c/docker_icon.webp 48w,\n/static/574cd5fb147070ce27674d66e78170e0/2fb9c/docker_icon.webp 95w,\n/static/574cd5fb147070ce27674d66e78170e0/9524e/docker_icon.webp 190w","type":"image/webp","sizes":"(min-width: 190px) 190px, 100vw"}]},"width":190,"height":85}}]}}}},{"node":{"id":"665c666a-b66f-54e9-a2c9-f5a42daaa851","html":"<div class=\"toc-title\">目次</div>\n<div class=\"toc-block\">\n<ol>\n<li>\n<p><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに</a></p>\n</li>\n<li>\n<p><a href=\"#%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE\">正規表現</a></p>\n</li>\n<li>\n<p><a href=\"#%E8%A9%B3%E7%B4%B0\">詳細</a></p>\n<ol>\n<li><a href=\"#%E3%81%A1%E3%81%AA%E3%81%BF%E3%81%AB\">ちなみに</a></li>\n</ol>\n</li>\n</ol>\n</div>\n<h2 id=\"はじめに\" style=\"position:relative;\"><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-label=\"はじめに permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はじめに</h2>\n<p>このまえ「全角の桁数制限」が必要だったので作成しました。<br>\nなので( ..)φメモメモ</p>\n<h2 id=\"正規表現\" style=\"position:relative;\"><a href=\"#%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE\" aria-label=\"正規表現 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>正規表現</h2>\n\n        <div class=\"gatsby-code-title your-custom-class-name\">\n          <span>regexp</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"regexp\"><pre class=\"language-regexp\"><code class=\"language-regexp\">^[^\\x01-\\x7Eｦ-ﾟ]{1,10}$//半角カナを含まない全角文字10桁までの制限</code></pre></div>\n<h2 id=\"詳細\" style=\"position:relative;\"><a href=\"#%E8%A9%B3%E7%B4%B0\" aria-label=\"詳細 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>詳細</h2>\n<ul>\n<li>[^]：否定の意味</li>\n<li>[^ｦ-ﾟ]：半角カナ以外</li>\n<li>^{1,10}$：1~10文字まで</li>\n<li>[^\\x01-\\x7]：全角+半角カナに一致(1バイト文字以外)</li>\n<li>[^\\x01-\\x7Eｦ-ﾟ]：全角に一致(1バイト文字+半角カナ以外)</li>\n</ul>\n<p>※半角カナは1バイト以外に該当する</p>\n<h3 id=\"ちなみに\" style=\"position:relative;\"><a href=\"#%E3%81%A1%E3%81%AA%E3%81%BF%E3%81%AB\" aria-label=\"ちなみに permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ちなみに</h3>\n\n        <div class=\"gatsby-code-title your-custom-class-name\">\n          <span>regexp</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"regexp\"><pre class=\"language-regexp\"><code class=\"language-regexp\">^[^\\x01-\\x7Eｦ-ﾟ]{1,10}$|^$\n//半角カナを含まない全角文字10桁までの制限 または空文字</code></pre></div>\n<ul>\n<li>|：ORの意味</li>\n<li>^$：空文字</li>\n</ul>\n<div class=\"balloon\">\n  <div class=\"icon\"></div>\n  <div class=\"talk\">\n  半角カナを省く方法まで一緒に書いてる記事が少なかったので書きました。桁数は自由に調整してください。参考になれば幸いです。\n  </div>\n</div>","timeToRead":1,"frontmatter":{"title":"【正規表現】全角の桁数制限","date":"2022-04-26","slug":"width-limit-regexp","hero_image":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#489888","images":{"fallback":{"src":"/static/02b4120d3519490a5ec27a703f311530/ccc41/key-green.png","srcSet":"/static/02b4120d3519490a5ec27a703f311530/bf8e1/key-green.png 128w,\n/static/02b4120d3519490a5ec27a703f311530/acb7c/key-green.png 256w,\n/static/02b4120d3519490a5ec27a703f311530/ccc41/key-green.png 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/02b4120d3519490a5ec27a703f311530/6766a/key-green.webp 128w,\n/static/02b4120d3519490a5ec27a703f311530/22bfc/key-green.webp 256w,\n/static/02b4120d3519490a5ec27a703f311530/d689f/key-green.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":512}}]}}}},{"node":{"id":"e058f9c3-7600-520b-9791-178ef70c31b2","html":"<div class=\"toc-title\">目次</div>\n<div class=\"toc-block\">\n<ol>\n<li><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに</a></li>\n<li><a href=\"#__%E3%81%A8%E3%81%AF\">__(”)とは</a></li>\n<li><a href=\"#%E4%BF%AE%E6%AD%A3%E4%BE%8B\">修正例</a></li>\n<li><a href=\"#%E4%BF%AE%E6%AD%A3%E6%89%8B%E9%A0%86\">修正手順</a></li>\n</ol>\n</div>\n<h2 id=\"はじめに\" style=\"position:relative;\"><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-label=\"はじめに permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はじめに</h2>\n<p>Laravel 絶賛勉強中です(スローペース🐢)</p>\n<p>ユーザ登録のテンプレート resources\\views\\auth\\register.blade.php を見てたら、 {{ __(‘Register’) }} なるものを発見👀</p>\n<p>なんぞや？となって調べたので、ブログに残しておきます。</p>\n<h2 id=\"__とは\" style=\"position:relative;\"><a href=\"#__%E3%81%A8%E3%81%AF\" aria-label=\"__とは permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>__(”)とは</h2>\n<p>「言語ファイルから翻訳文字列の取得を取得するヘルパ関数」とのこと。</p>\n<p>言語ファイルとは resources\\lang 配下のファイルのことです。<br>\nデフォで en が入っていますが、ja を追加することもできます。</p>\n<p>その言語ファイルから、値を取得するための関数ということのようです。<br>\n参照する言語ファイルは config\\app.php の locale の設定で決まります</p>\n<div class=\"boxparts ref\">\n  <div class=\"title\"></div>\n<p><strong>■config\\app.php の locale の設定について</strong></p>\n\n        <div class=\"gatsby-code-title your-custom-class-name\">\n          <span>php</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token string single-quoted-string\">'locale'</span> <span class=\"token operator\">=</span><span class=\"token operator\">&amp;</span>gt<span class=\"token punctuation\">;</span> <span class=\"token string single-quoted-string\">'en'</span>  \n↓  \n<span class=\"token string single-quoted-string\">'locale'</span> <span class=\"token operator\">=</span><span class=\"token operator\">&amp;</span>gt<span class=\"token punctuation\">;</span> <span class=\"token string single-quoted-string\">'ja'</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>をすると ja 配下の言語ファイルを参照します。</p>\n</div>\n<div class=\"boxparts ref\">\n  <div class=\"title\"></div>\n<p><strong>■jaファイルは以下のコマンドで一括で追加できます</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">php -r \"copy('https://readouble.com/laravel/6.x/ja/install-ja-lang-files.php', 'install-ja-lang.php');\" \nphp -f install-ja-lang.php  \nphp -r \"unlink('install-ja-lang.php');\"\n</code></pre></div>\n<p>参考：<a href=\"https://readouble.com/laravel/6.x/ja/validation-php.html?header=%25E8%25AA%25AC%25E6%2598%258E\">Laravel 6.x validation.php言語ファイル</a></p>\n</div>\n<h2 id=\"修正例\" style=\"position:relative;\"><a href=\"#%E4%BF%AE%E6%AD%A3%E4%BE%8B\" aria-label=\"修正例 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>修正例</h2>\n<p>今回はユーザ登録画面のテンプレート resources\\views\\auth\\register.blade.php のボタンの文字を「Register」から「ユーザ登録」に変更したいと思います。</p>\n<p>これを↓<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b60b459454f040c6d9946b604912a74f/d80c4/langset_before.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.42857142857142%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3rAB/8QAFhAAAwAAAAAAAAAAAAAAAAAAARAg/9oACAEBAAEFAoC//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAECAh/9oACAEBAAY/Ako//8QAGBAAAgMAAAAAAAAAAAAAAAAAAREQICH/2gAIAQEAAT8hoy0zH//aAAwDAQACAAMAAAAQo8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAACAwEBAAAAAAAAAAAAAAABEQAQMVFB/9oACAEBAAE/EMwqI9NeRag6AKv/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"langset before\"\n        title=\"\"\n        src=\"/static/b60b459454f040c6d9946b604912a74f/29d31/langset_before.jpg\"\n        srcset=\"/static/b60b459454f040c6d9946b604912a74f/e52aa/langset_before.jpg 175w,\n/static/b60b459454f040c6d9946b604912a74f/70ebb/langset_before.jpg 350w,\n/static/b60b459454f040c6d9946b604912a74f/29d31/langset_before.jpg 700w,\n/static/b60b459454f040c6d9946b604912a74f/d80c4/langset_before.jpg 716w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>こうしたい↓<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/710f71112648d1a7b496c00a41e792a3/8e486/langset_after-1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.71428571428571%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3rAB/8QAFhAAAwAAAAAAAAAAAAAAAAAAARAg/9oACAEBAAEFAoC//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAECAh/9oACAEBAAY/Ako//8QAGRAAAQUAAAAAAAAAAAAAAAAAEQEQIDGB/9oACAEBAAE/IYEljjf/2gAMAwEAAgADAAAAEKPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAQACAwEAAAAAAAAAAAAAAREQIQAxYXH/2gAIAQEAAT8Q6NM+cnrkGxa6kTH/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"langset after 1\"\n        title=\"\"\n        src=\"/static/710f71112648d1a7b496c00a41e792a3/29d31/langset_after-1.jpg\"\n        srcset=\"/static/710f71112648d1a7b496c00a41e792a3/e52aa/langset_after-1.jpg 175w,\n/static/710f71112648d1a7b496c00a41e792a3/70ebb/langset_after-1.jpg 350w,\n/static/710f71112648d1a7b496c00a41e792a3/29d31/langset_after-1.jpg 700w,\n/static/710f71112648d1a7b496c00a41e792a3/8e486/langset_after-1.jpg 707w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"修正手順\" style=\"position:relative;\"><a href=\"#%E4%BF%AE%E6%AD%A3%E6%89%8B%E9%A0%86\" aria-label=\"修正手順 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>修正手順</h2>\n<p>確認した所 {{ __(‘Register’) }} となっている箇所が3カ所あり、表示内容的に共通で問題ないため、すべて修正を行います。</p>\n<ol>\n<li>resources\\lang\\ja に form.php を追加※任意のファイル名でOK</li>\n</ol>\n\n        <div class=\"gatsby-code-title your-custom-class-name\">\n          <span>php</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\">  <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n  \n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n  \n      <span class=\"token comment\">/*\n      |--------------------------------------------------------------------------\n      | 入力フォームに表示する日本語行\n      |--------------------------------------------------------------------------\n      |\n      */</span>\n      \n      <span class=\"token string single-quoted-string\">'register'</span><span class=\"token operator\">=></span><span class=\"token punctuation\">[</span>\n          <span class=\"token string single-quoted-string\">'name'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'ユーザ登録'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span>   \n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>​</span></code></pre></div>\n<ol start=\"2\">\n<li>resources\\views\\auth\\register.blade.php で2カ所を以下のように修正。</li>\n</ol>\n<p>※formは 1 でつけたファイル名<br>\n※registerは 1 でつけた1個目のキー<br>\n※nameは 1 でつけた2個目のキー<br>\n※ . でつないで参照できます</p>\n\n        <div class=\"gatsby-code-title your-custom-class-name\">\n          <span>php</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\">  <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token function\">__</span><span class=\"token punctuation\">(</span>‘Register’<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>  \n  ↓  \n  <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token function\">__</span><span class=\"token punctuation\">(</span>‘form<span class=\"token operator\">.</span>register<span class=\"token operator\">.</span>name’<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"3\">\n<li>共通テンプレート resources\\views\\layouts\\app.blade.php 1カ所を以下のように修正</li>\n</ol>\n\n        <div class=\"gatsby-code-title your-custom-class-name\">\n          <span>php</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\">  <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token function\">__</span><span class=\"token punctuation\">(</span>‘Register’<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>  \n  ↓  \n  <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token function\">__</span><span class=\"token punctuation\">(</span>‘form<span class=\"token operator\">.</span>register<span class=\"token operator\">.</span>name’<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"4\">\n<li>以上で言語ファイルから参照した値での表示に変更することにできました。</li>\n</ol>\n<p>直接テンプレート上で文字で記載してもよいですが、設定ファイルとしてまとめれたり、言語ごとに共通で修正できるので、その点がメリットですね。</p>\n<div class=\"boxparts caution\">\n  <div class=\"title\"></div>\n<p><strong>■エラー「htmlspecialchars() expects parameter 1 to be string, array given helpers.php」について</strong></p>\n<p>例えば{{ __(‘Register’) }}と記載があり、resources\\lang\\ja 配下に Register.php がある場合にエラーが出ます。</p>\n<p>Laravelの翻訳ページを見た感じ、翻訳文字列が存在しない場合はキーをそのまま返しますとのことなので、エラーにならずに Register が返ってくると思いきや違うようなので注意です。</p>\n</div>\n<div class=\"balloon\">\n  <div class=\"icon\"></div>\n  <div class=\"talk\">\n  修正箇所をまとめて、改修、保守しやすくしておくのは大事ですね。<br>\n  あと @lang はちゃんと使え。と書いてあるので基本的に __\"を使うで良いとは思いました。\n  </div>\n</div>","timeToRead":2,"frontmatter":{"title":"【Laravel】Bladeテンプレートの __(”) って何？","date":"2021-02-14","slug":"laravel-localization__","hero_image":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/bd5f54a4ff904ce97919fff027346f67/be5ed/Laravel-icon.jpg","srcSet":"/static/bd5f54a4ff904ce97919fff027346f67/8bb35/Laravel-icon.jpg 125w,\n/static/bd5f54a4ff904ce97919fff027346f67/f505e/Laravel-icon.jpg 250w,\n/static/bd5f54a4ff904ce97919fff027346f67/be5ed/Laravel-icon.jpg 500w","sizes":"(min-width: 500px) 500px, 100vw"},"sources":[{"srcSet":"/static/bd5f54a4ff904ce97919fff027346f67/d66e1/Laravel-icon.webp 125w,\n/static/bd5f54a4ff904ce97919fff027346f67/e7160/Laravel-icon.webp 250w,\n/static/bd5f54a4ff904ce97919fff027346f67/5f169/Laravel-icon.webp 500w","type":"image/webp","sizes":"(min-width: 500px) 500px, 100vw"}]},"width":500,"height":500}}]}}}},{"node":{"id":"d0337d8a-0150-5287-82d0-8d577e8c3b87","html":"<div class=\"toc-title\">目次</div>\n<div class=\"toc-block\">\n<ol>\n<li><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに</a></li>\n<li><a href=\"#%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95\">解決方法</a></li>\n</ol>\n</div>\n<h2 id=\"はじめに\" style=\"position:relative;\"><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-label=\"はじめに permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はじめに</h2>\n<p>仕事でIE11のレイアウト調整をしていたときに、clientWidthやoffsetWidthで要素の幅を取得しようとしても結果が 0 になり取得できずに困ったので、記事に残しておきます😃</p>\n<p>(clientHeightやoffsetHeightは反映していたのになんでwidthは0だったのか…)</p>\n<p>しらべてもなかなか出てこなかったの参考になればうれしいです😃</p>\n<div class=\"boxparts ref\">\n  <div class=\"title\"></div>\n<p><a href=\"https://developer.mozilla.org/ja/docs/Web/API/Element/clientWidth\">Element.clientWidth</a></p>\n<p><a href=\"https://developer.mozilla.org/ja/docs/Web/API/HTMLElement/offsetWidth\">HTMLElement.offsetWidth</a></p>\n</div>\n<h2 id=\"解決方法\" style=\"position:relative;\"><a href=\"#%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95\" aria-label=\"解決方法 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>解決方法</h2>\n<p>Element.scrollWidthを使い取得する</p>\n<div class=\"boxparts ref\">\n  <div class=\"title\"></div>\n<p><a href=\"https://developer.mozilla.org/ja/docs/Web/API/Element/scrollWidth\">Element.scrollWidth</a></p>\n</div>\n<div class=\"balloon\">\n  <div class=\"icon\"></div>\n  <div class=\"talk\">\nIE11でブラウザの幅を取る方法とか、offset、clientWidthのことはすぐ出てくるのですが、scrollWidthのことがなかなか出てこなかったので、参考になれば幸いです<br>\n自分はIEのデバッガーでなんとか見つけ出しました😅\n  </div>\n</div>","timeToRead":1,"frontmatter":{"title":"【JavaScript】IE11で要素の幅を取得しても結果が0になり取得できない","date":"2021-02-08","slug":"js-scrollwidth","hero_image":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/fc48070784598aad46527dab9e43272d/4c5cc/1294_ie_logo.png","srcSet":"/static/fc48070784598aad46527dab9e43272d/6a0a7/1294_ie_logo.png 35w,\n/static/fc48070784598aad46527dab9e43272d/87e59/1294_ie_logo.png 71w,\n/static/fc48070784598aad46527dab9e43272d/4c5cc/1294_ie_logo.png 141w","sizes":"(min-width: 141px) 141px, 100vw"},"sources":[{"srcSet":"/static/fc48070784598aad46527dab9e43272d/d8110/1294_ie_logo.webp 35w,\n/static/fc48070784598aad46527dab9e43272d/9ba18/1294_ie_logo.webp 71w,\n/static/fc48070784598aad46527dab9e43272d/99d4e/1294_ie_logo.webp 141w","type":"image/webp","sizes":"(min-width: 141px) 141px, 100vw"}]},"width":141,"height":149}}]}}}},{"node":{"id":"48b36b85-8c41-593a-980a-f51d7f2b65cc","html":"<div class=\"toc-title\">目次</div>\n<div class=\"toc-block\">\n<ol>\n<li><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに</a></li>\n<li><a href=\"#%E3%82%B3%E3%83%BC%E3%83%89\">コード</a></li>\n</ol>\n</div>\n<h2 id=\"はじめに\" style=\"position:relative;\"><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-label=\"はじめに permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はじめに</h2>\n<p>ファイルを削除する関数を書いたので載せておきます。</p>\n<p>ファイル、ディレクトリを操作するメソッドはいろいろありますが、今回はis_Dot()がつかえる、DirectoryIteratorクラスを使っています。</p>\n<p>引数で以下の設定ができます。</p>\n<ul>\n<li>削除対象のフォルダパス</li>\n<li>削除対象の拡張子</li>\n<li>\n<div><div>〇日前のファイルを削除対象とするか</div></div>\n</li>\n</ul>\n<p>パスがファイルの場合に条件を満たせば削除し、パスがフォルダなら再帰処理を行い配下のフォルダまですべて処理を行います。</p>\n<p>なお、<span style=\"color: #ff0000;\"><strong>$pathに渡したフォルダのパスのファイルが削除対象</strong></span>になります。</p>\n<p><span style=\"color: #ff0000;\"><strong>ご利用の際は動作確認を行ったうえで、自己責任でお願いします。</strong></span><br>\n<span style=\"color: #ff0000;\"><strong>ファイルを消すものなので、テストして慎重に使ってください</strong></span>。</p>\n<div class=\"boxparts ref\">\n  <div class=\"title\"></div>\n<p>DirectoryIterator クラス<br>\n<a href=\"https://www.php.net/manual/ja/class.directoryiterator.php\">https://www.php.net/manual/ja/class.directoryiterator.php</a></p>\n</div>\n<h2 id=\"コード\" style=\"position:relative;\"><a href=\"#%E3%82%B3%E3%83%BC%E3%83%89\" aria-label=\"コード permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>コード</h2>\n\n        <div class=\"gatsby-code-title your-custom-class-name\">\n          <span>php</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token comment\">/**\n * $day日前より古い+$exの拡張子のファイルを対象に$pathフォルダから削除する\n * \n * @param {string} $path フォルダのパス\n * @param {array} $ex 配列に含まれる拡張子を削除対象とする\n * @param {int} $day $day日前より古いファイルを削除対象とする \n *\n * ※$path = 'folderPath'に削除したいファイルがあるフォルダを指定してください。\n*/</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">fileDelete</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$path</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'folderPathを指定する'</span> <span class=\"token punctuation\">,</span><span class=\"token variable\">$ex</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'csv'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span><span class=\"token variable\">$day</span> <span class=\"token operator\">=</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//dirがある、$exが配列、$exの値がある、$dayが整数だったら処理開始</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token function\">is_dir</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$path</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">is_array</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$ex</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$ex</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">is_int</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$day</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$date</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DateTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$dayAgo</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$day</span><span class=\"token operator\">-></span><span class=\"token function\">modify</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'-'</span><span class=\"token operator\">.</span><span class=\"token variable\">$day</span><span class=\"token operator\">.</span><span class=\"token string single-quoted-string\">'days'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">getTimestamp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//確認するときは ->format(Y-m-d H:i:s) すると日時でみれます</span>\n\n    <span class=\"token variable\">$dir</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DirectoryIterator</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$path</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$dir</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$file</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">//. と .. は無視する</span>\n      <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token variable\">$file</span><span class=\"token operator\">-></span><span class=\"token function\">isDot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n        <span class=\"token comment\">//ファイルの時の処理</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$file</span><span class=\"token operator\">-></span><span class=\"token function\">isFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">//$dayAgoより古い &amp; 対象の拡張子のファイルを削除</span>\n          <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$file</span><span class=\"token operator\">-></span><span class=\"token function\">getMTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token variable\">$dayAgo</span>  <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">in_array</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$file</span><span class=\"token operator\">-></span><span class=\"token function\">getExtension</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token variable\">$ex</span><span class=\"token punctuation\">,</span><span class=\"token constant boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token function\">unlink</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$file</span><span class=\"token operator\">-></span><span class=\"token function\">getPathname</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token comment\">//ディレクトリの時の処理</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$file</span><span class=\"token operator\">-></span><span class=\"token function\">isDir</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n          <span class=\"token function\">fileDelete</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$file</span><span class=\"token operator\">-></span><span class=\"token function\">getPathname</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//ディレクトリなら再帰処理</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>","timeToRead":2,"frontmatter":{"title":"【PHP】ディレクトリにあるファイルを削除する関数","date":"2020-11-25","slug":"php_func_del_file","hero_image":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8b898","images":{"fallback":{"src":"/static/57da643dde754066622bc1bac108f77d/3c367/file_icatch.jpg","srcSet":"/static/57da643dde754066622bc1bac108f77d/19e71/file_icatch.jpg 128w,\n/static/57da643dde754066622bc1bac108f77d/68974/file_icatch.jpg 256w,\n/static/57da643dde754066622bc1bac108f77d/3c367/file_icatch.jpg 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/57da643dde754066622bc1bac108f77d/6766a/file_icatch.webp 128w,\n/static/57da643dde754066622bc1bac108f77d/22bfc/file_icatch.webp 256w,\n/static/57da643dde754066622bc1bac108f77d/d689f/file_icatch.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":512}}]}}}},{"node":{"id":"db265e34-31dc-5a0c-a39f-88e8013f7777","html":"<div class=\"toc-title\">目次</div>\n<div class=\"toc-block\">\n<ol>\n<li>\n<p><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに</a></p>\n</li>\n<li>\n<p><a href=\"#%E6%89%8B%E9%A0%86\">手順</a></p>\n<ol>\n<li><a href=\"#1%E5%87%A6%E7%90%86%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%81%AB%E7%A7%BB%E5%8B%95\">1.処理フォルダに移動</a></li>\n<li><a href=\"#2%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E3%81%AE%E6%9C%AB%E5%B0%BE%E3%81%AB_bk200902%E3%82%92%E8%BF%BD%E5%8A%A0\">2.ファイル名の末尾に「_bk200902」を追加</a></li>\n</ol>\n</li>\n<li>\n<p><a href=\"#%E8%A7%A3%E8%AA%AC\">解説</a></p>\n<ol>\n<li><a href=\"#for-in-do-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">for in do について</a></li>\n<li><a href=\"#a-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">%A について</a></li>\n<li><a href=\"#-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">* について</a></li>\n<li><a href=\"#ren-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">ren について</a></li>\n<li><a href=\"#na-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">%~nA について</a></li>\n<li><a href=\"#xa-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">%~xA について</a></li>\n</ol>\n</li>\n</ol>\n</div>\n<h2 id=\"はじめに\" style=\"position:relative;\"><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-label=\"はじめに permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はじめに</h2>\n<p>先日Windows PCでフォルダ内の複数のファイル名を一括で更新する必要がありました。<br>\nコマンドプロンプトでコマンドを実行することで簡単にでき便利だったので、ブログに残しておきます。</p>\n<p>追加前↓<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 616px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/79e4adf5971440e2dd7303209e24d251/40040/rename_before.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.28571428571429%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKUlEQVR42qWS2W7EIAxF8/8/2WaWhGw4LGazwRUTaaRR31q/XaHDwboM8o8ZmCuc2lijQYcY3ge1Vues8zaXLCI5pRQjItZae8ypEA1ENKt527dZzdZZEWmtiQgza31orWPqNyKi996Yk5l7DJhy7vD9MU7z8/v2DQBvmIiWRS2rwuBFxDlrjDmO/YKddyHGDi+r2o9dreoyX8PMABoAYooiEkNARGsN1w6HGPJlvt27ebyNcH6Y1WXGy+yM/WUuRJOa12N7zJM+oYpwayxSiHatd9CYQhVxiNZ7MGdh6jFgTGnIpXzdxvv0vM9P4z1Xodq4ScxlUmpalPWem5zGaDjXbUulw2AthjDU2quCE67XflblnHflqqp3lULA2l5VlUxEw2vJP36SHzRzRDzHjGXcAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rename before\"\n        title=\"\"\n        src=\"/static/79e4adf5971440e2dd7303209e24d251/40040/rename_before.png\"\n        srcset=\"/static/79e4adf5971440e2dd7303209e24d251/4edbd/rename_before.png 175w,\n/static/79e4adf5971440e2dd7303209e24d251/13ae7/rename_before.png 350w,\n/static/79e4adf5971440e2dd7303209e24d251/40040/rename_before.png 616w\"\n        sizes=\"(max-width: 616px) 100vw, 616px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span><br>\n追加後↓<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 616px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/aa09776d8b8ab76f9b26ab30aa15e62a/40040/rename_after.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.28571428571429%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWUlEQVR42qWS27LbIAxF/f//1560OY7t+IbBBDAIIXxRx3Umz52pntBsFnuPRMH/UQURSSmMMbOe264dhj7nzMzbtllrrDWYkJkREQBC8HldmZmIELFAxK5/SjUNor+X90f9oEwnvK5qVmqWEAMzA8DiF+fMpWKKAcIJP9taqqnr29/3X4+qJDrldV2lumB4w8tinb1UTBhCKFJKo+hnrcQkqrpq2uYTW7+0fs0RIzPHGL33y2IvNaUEAKdz01TTJNr2ebt9fX/fP86TnKScArxjO+esNW9nxBB8ERC7sZd67idR1lVZV4C4M6e8Kq2Vnn2E7WAP4PxiFxeJdmZA9BAKD7GsH904VE394/azaZ8p034ciagX4yBG65eD2Xmvz43oiHjw+ZZxrsg5G/OatRrFcG2F+WDmfd9DCAFC/jvenCmlhIjbtp3tmomoOO8eB7+h43P+l0/yBw4qPgXa2EztAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rename after\"\n        title=\"\"\n        src=\"/static/aa09776d8b8ab76f9b26ab30aa15e62a/40040/rename_after.png\"\n        srcset=\"/static/aa09776d8b8ab76f9b26ab30aa15e62a/4edbd/rename_after.png 175w,\n/static/aa09776d8b8ab76f9b26ab30aa15e62a/13ae7/rename_after.png 350w,\n/static/aa09776d8b8ab76f9b26ab30aa15e62a/40040/rename_after.png 616w\"\n        sizes=\"(max-width: 616px) 100vw, 616px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"手順\" style=\"position:relative;\"><a href=\"#%E6%89%8B%E9%A0%86\" aria-label=\"手順 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>手順</h2>\n<h3 id=\"1処理フォルダに移動\" style=\"position:relative;\"><a href=\"#1%E5%87%A6%E7%90%86%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%81%AB%E7%A7%BB%E5%8B%95\" aria-label=\"1処理フォルダに移動 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.処理フォルダに移動</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd フォルダパス</code></pre></div>\n<h3 id=\"2ファイル名の末尾に_bk200902を追加\" style=\"position:relative;\"><a href=\"#2%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E3%81%AE%E6%9C%AB%E5%B0%BE%E3%81%AB_bk200902%E3%82%92%E8%BF%BD%E5%8A%A0\" aria-label=\"2ファイル名の末尾に_bk200902を追加 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.ファイル名の末尾に「_bk200902」を追加</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">for %A in (*) do ren \"%A\" \"%~nA_bk200902%~xA\"</code></pre></div>\n<h2 id=\"解説\" style=\"position:relative;\"><a href=\"#%E8%A7%A3%E8%AA%AC\" aria-label=\"解説 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>解説</h2>\n<h3 id=\"for-in-do-について\" style=\"position:relative;\"><a href=\"#for-in-do-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-label=\"for in do について permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>for in do について</h3>\n<p>コマンドでの繰り返しの構文です。</p>\n<h3 id=\"a-について\" style=\"position:relative;\"><a href=\"#a-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-label=\"a について permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>%A について</h3>\n<p>変数名です。</p>\n<h3 id=\"-について\" style=\"position:relative;\"><a href=\"#-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-label=\" について permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>* について</h3>\n<p>全ファイル名を検知するためのワイルドカードという指定です。</p>\n<h3 id=\"ren-について\" style=\"position:relative;\"><a href=\"#ren-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-label=\"ren について permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ren について</h3>\n<p>renameコマンドの省略系です。</p>\n<p><strong><span style=\"color: #0000ff;\">“%A”</span> を <span style=\"color: #0000ff;\">“%~nA_bk200902%~xA”</span> にリネーム</strong>しています。</p>\n<h3 id=\"na-について\" style=\"position:relative;\"><a href=\"#na-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-label=\"na について permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>%~nA について</h3>\n<p>forのオプション(変数参照の置換)で <strong><span style=\"color: #ff0000;\">%Aの「ファイル名」だけを指定</span></strong>  しています。_bk200902 は追加したい文言になります。</p>\n<h3 id=\"xa-について\" style=\"position:relative;\"><a href=\"#xa-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-label=\"xa について permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>%~xA について</h3>\n<p><strong><span style=\"color: #ff0000;\">%~xA</span>は</strong> <strong><span style=\"color: #ff0000;\">%Aの「拡張子」だけを指定</span></strong>  しています。</p>\n<div class=\"boxparts ref\">\n  <div class=\"title\"></div>\n<p>コマンドのヘルプはコマンドプロンプトで/?で確認できます。</p>\n<p>forのヘルプなら for/? でヘルプが見れる<br>\nrenのヘルプなら ren/? でヘルプが見れる</p>\n<p>なおWindowsでもLinuxでも同じみたいです。</p>\n</div>\n<div class=\"balloon\">\n  <div class=\"icon\"></div>\n  <div class=\"talk\">\n  便利じゃ💡\n  </div>\n</div>","timeToRead":1,"frontmatter":{"title":"【コマンド】ファイル名の末尾に一括文言追加","date":"2020-09-02","slug":"cmd-for-ren","hero_image":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#88c888","images":{"fallback":{"src":"/static/b94bd2ee6f65994f8b5d929d7acb50a1/ccc41/pc-green.png","srcSet":"/static/b94bd2ee6f65994f8b5d929d7acb50a1/bf8e1/pc-green.png 128w,\n/static/b94bd2ee6f65994f8b5d929d7acb50a1/acb7c/pc-green.png 256w,\n/static/b94bd2ee6f65994f8b5d929d7acb50a1/ccc41/pc-green.png 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/b94bd2ee6f65994f8b5d929d7acb50a1/6766a/pc-green.webp 128w,\n/static/b94bd2ee6f65994f8b5d929d7acb50a1/22bfc/pc-green.webp 256w,\n/static/b94bd2ee6f65994f8b5d929d7acb50a1/d689f/pc-green.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":512}}]}}}},{"node":{"id":"5b399cc0-1307-5282-891c-3292be5a7720","html":"<div class=\"toc-title\">目次</div>\n<div class=\"toc-block\">\n<ol>\n<li>\n<p><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに</a></p>\n</li>\n<li>\n<p><a href=\"#%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AB%E7%B9%8B%E3%81%8C%E3%82%89%E3%81%AA%E3%81%84%E6%99%82%E3%81%AE%E7%A2%BA%E8%AA%8D%E6%96%B9%E6%B3%95\">データベースに繋がらない時の確認方法</a></p>\n<ol>\n<li><a href=\"#%E3%81%BE%E3%81%9Alaravel%E3%81%A7%E6%8E%A5%E7%B6%9A%E7%8A%B6%E6%85%8B%E7%A2%BA%E8%AA%8D\">まずLaravelで接続状態確認</a></li>\n<li><a href=\"#phpini%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\">php.iniを確認する</a></li>\n<li><a href=\"#env-%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9%E8%A8%AD%E5%AE%9A%E3%81%8C%E3%81%8D%E3%81%A1%E3%82%93%E3%81%A8%E3%81%AA%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B\">.env のデータベース設定がきちんとなっているか</a></li>\n<li><a href=\"#databasephp%E3%81%AE%E5%AF%BE%E8%B1%A1%E3%81%AEdb%E8%A8%AD%E5%AE%9A%E3%81%8C%E3%81%8D%E3%81%A1%E3%82%93%E3%81%A8%E3%81%AA%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B\">database.phpの対象のDB設定がきちんとなっているか</a></li>\n<li><a href=\"#%E4%BD%BF%E3%81%A3%E3%81%A6%E3%82%8B%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AF%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%82%8B%E3%81%8B\">使ってるサーバーは起動してるか</a></li>\n<li><a href=\"#%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%A4%89%E6%9B%B4%E5%BE%8C%E3%81%AB%E3%82%AD%E3%83%A3%E3%83%83%E3%82%B7%E3%83%A5%E3%81%AF%E3%81%AE%E3%81%93%E3%81%A3%E3%81%A6%E3%81%AA%E3%81%84%E3%81%8B\">設定ファイル変更後にキャッシュはのこってないか</a></li>\n</ol>\n</li>\n</ol>\n</div>\n<h2 id=\"はじめに\" style=\"position:relative;\"><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-label=\"はじめに permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はじめに</h2>\n<p>JavaScriptはVue.js、jQueryでの業務経験があるのですが、PHPはフレームワークを使ったことがなかったので、最近Laravelの勉強を始めています。</p>\n<p>一旦たにぐちさんの動画で環境構築、軽くMVCを動かしてみるというところまでは詰まらずいけたのですが、その後自分で新たなに勉強していくなか、データベースに繋がらない時の確認方法が必要になったので、記事しておきます。</p>\n<p>今回は以前使用した<strong>sqliteと今回使ったMySQLで確認</strong>をしたときの方法です</p>\n<div class=\"boxparts ref\">\n  <div class=\"title\"></div>\n<p><a href=\"https://www.youtube.com/playlist?list=PLh6V6_7fbbo8bb7eajaLdsQZ9fLhMJ-oc\">Laravel入門</a></p>\n</div>\n<h2 id=\"データベースに繋がらない時の確認方法\" style=\"position:relative;\"><a href=\"#%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AB%E7%B9%8B%E3%81%8C%E3%82%89%E3%81%AA%E3%81%84%E6%99%82%E3%81%AE%E7%A2%BA%E8%AA%8D%E6%96%B9%E6%B3%95\" aria-label=\"データベースに繋がらない時の確認方法 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>データベースに繋がらない時の確認方法</h2>\n<h3 id=\"まずlaravelで接続状態確認\" style=\"position:relative;\"><a href=\"#%E3%81%BE%E3%81%9Alaravel%E3%81%A7%E6%8E%A5%E7%B6%9A%E7%8A%B6%E6%85%8B%E7%A2%BA%E8%AA%8D\" aria-label=\"まずlaravelで接続状態確認 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まずLaravelで接続状態確認</h3>\n<p>以下の Laravelのコマンドで今の状況を確認できます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">php artisan migrate:status</code></pre></div>\n<p><br><br>\n何かしらのエラーがてて、繋がってなかったら以下「2」以降のいづれかを確認します。</p>\n<div class=\"balloon\">\n  <div class=\"icon\"></div>\n  <div class=\"talk\">\n<p>個人的に順番はつけていますが、目星がついてる場合は怪しい個所から調べても <strong><span style=\"color: #ff0077;\">おけまる</span></strong> です</p>\n  </div>\n</div>\n<h3 id=\"phpiniを確認する\" style=\"position:relative;\"><a href=\"#phpini%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\" aria-label=\"phpiniを確認する permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>php.iniを確認する</h3>\n<p>phpの設定ファイルを確認し使いたいデータベースがコメントアウトされていないか確認する。<br>\nphp.iniにはたくさん記述があるので、Ctrl+Fで検索すると見つけやすいです。</p>\n\n        <div class=\"gatsby-code-title your-custom-class-name\">\n          <span>php.ini</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"php.ini\"><pre class=\"language-php.ini\"><code class=\"language-php.ini\">extension=pdo_sqlite</code></pre></div>\n<p>※sqliteならこれを確認力</p>\n\n        <div class=\"gatsby-code-title your-custom-class-name\">\n          <span>php.ini</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"php.ini\"><pre class=\"language-php.ini\"><code class=\"language-php.ini\">extension=mysqli</code></pre></div>\n<p>※MySQLならこれを確認</p>\n<h3 id=\"env-のデータベース設定がきちんとなっているか\" style=\"position:relative;\"><a href=\"#env-%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9%E8%A8%AD%E5%AE%9A%E3%81%8C%E3%81%8D%E3%81%A1%E3%82%93%E3%81%A8%E3%81%AA%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B\" aria-label=\"env のデータベース設定がきちんとなっているか permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>.env のデータベース設定がきちんとなっているか</h3>\n<p>.envはLaravelの設定ファイルです。<br>\nTOPにあるので中身を確認します。</p>\n<p>.envにもたくさん記述があるので、Ctrl+Fで検索すると見つけやすいです。</p>\n\n        <div class=\"gatsby-code-title your-custom-class-name\">\n          <span>.env</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\".env\"><pre class=\"language-.env\"><code class=\"language-.env\">DB_CONNECTION=sqlite</code></pre></div>\n<p>※sqliteならこれだけ記載し他のはコメントアウトで非活性にしてOK</p>\n\n        <div class=\"gatsby-code-title your-custom-class-name\">\n          <span>.env</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\".env\"><pre class=\"language-.env\"><code class=\"language-.env\">DB_CONNECTION=mysql\nDB_HOST=ホスト名\nDB_PORT=ポート\nDB_DATABASE=DB名\nDB_USERNAME=ユーザネーム\nDB_PASSWORD=パスワード</code></pre></div>\n<p>※MySQLは適宜今の状況にあったものを記載します</p>\n<h3 id=\"databasephpの対象のdb設定がきちんとなっているか\" style=\"position:relative;\"><a href=\"#databasephp%E3%81%AE%E5%AF%BE%E8%B1%A1%E3%81%AEdb%E8%A8%AD%E5%AE%9A%E3%81%8C%E3%81%8D%E3%81%A1%E3%82%93%E3%81%A8%E3%81%AA%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B\" aria-label=\"databasephpの対象のdb設定がきちんとなっているか permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>database.phpの対象のDB設定がきちんとなっているか</h3>\n<p>Laravelの config/database.php は .env ファイルの設定を参照し、なければ第二引数の値が設定として参照されるファイルです。<br>\nなので、MySQLの場合は .env ファイルの設定がされているものは特に変更しなくても基本は動くと思います。</p>\n<p>ただし、sqliteの場合は初期設定のDBのファイル名が「database.sqlite」なのでファイル名を変更した場合は適宜記載します。</p>\n\n        <div class=\"gatsby-code-title your-custom-class-name\">\n          <span>php</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token string single-quoted-string\">'database'</span> <span class=\"token operator\">=></span> <span class=\"token function\">env</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'DB_DATABASE'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">database_path</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'DBのファイル名のみ記載'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>※sqliteの場合</p>\n<h3 id=\"使ってるサーバーは起動してるか\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E3%81%A3%E3%81%A6%E3%82%8B%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AF%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%82%8B%E3%81%8B\" aria-label=\"使ってるサーバーは起動してるか permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使ってるサーバーは起動してるか</h3>\n<p>これ本当に凡ミスでした😅<br>\n当時XAMPPだったのですが、XAMPPを起動していなくてエラーになるということがありました笑</p>\n<p>サーバーはちゃんと起動しましょう😅</p>\n<h3 id=\"設定ファイル変更後にキャッシュはのこってないか\" style=\"position:relative;\"><a href=\"#%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%A4%89%E6%9B%B4%E5%BE%8C%E3%81%AB%E3%82%AD%E3%83%A3%E3%83%83%E3%82%B7%E3%83%A5%E3%81%AF%E3%81%AE%E3%81%93%E3%81%A3%E3%81%A6%E3%81%AA%E3%81%84%E3%81%8B\" aria-label=\"設定ファイル変更後にキャッシュはのこってないか permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>設定ファイル変更後にキャッシュはのこってないか</h3>\n<p>いろいろと設定ファイルを変更した場合に、前回の設定値がキャッシュで残ることがあるそうです。<br>\n見返しても間違いがない場合は以下のコマンドで設定ファイルのキャッシュをクリアしてみてください。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">php artisan config:cache</code></pre></div>\n<div class=\"balloon\">\n  <div class=\"icon\"></div>\n  <div class=\"talk\">\n以上です！  \nいろいろと大変なこともありますが..お互い頑張りましょう！\n  </div>\n</div>","timeToRead":3,"frontmatter":{"title":"【Laravel】データベースに繋がらない時の確認方法","date":"2020-06-28","slug":"laravel-db-connnect-check","hero_image":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/bd5f54a4ff904ce97919fff027346f67/be5ed/Laravel-icon.jpg","srcSet":"/static/bd5f54a4ff904ce97919fff027346f67/8bb35/Laravel-icon.jpg 125w,\n/static/bd5f54a4ff904ce97919fff027346f67/f505e/Laravel-icon.jpg 250w,\n/static/bd5f54a4ff904ce97919fff027346f67/be5ed/Laravel-icon.jpg 500w","sizes":"(min-width: 500px) 500px, 100vw"},"sources":[{"srcSet":"/static/bd5f54a4ff904ce97919fff027346f67/d66e1/Laravel-icon.webp 125w,\n/static/bd5f54a4ff904ce97919fff027346f67/e7160/Laravel-icon.webp 250w,\n/static/bd5f54a4ff904ce97919fff027346f67/5f169/Laravel-icon.webp 500w","type":"image/webp","sizes":"(min-width: 500px) 500px, 100vw"}]},"width":500,"height":500}}]}}}},{"node":{"id":"ecfdbdc9-254d-507f-a792-fc9ffcb838de","html":"<div class=\"toc-title\">目次</div>\n<div class=\"toc-block\">\n<ol>\n<li><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに</a></li>\n<li><a href=\"#git%E3%81%AE%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86%E3%81%8B%E3%82%89%E5%A4%96%E3%81%99%E6%96%B9%E6%B3%95\">Gitのバージョン管理から外す方法</a></li>\n<li><a href=\"#gitignore%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E8%A8%98%E8%BC%89%E4%BE%8B\">.gitignoreファイルの記載例</a></li>\n<li><a href=\"#gitignore%E3%81%AE%E7%89%B9%E5%BE%B4%E3%81%AE%E4%B8%80%E4%BE%8B\">.gitignoreの特徴の一例</a></li>\n</ol>\n</div>\n<h2 id=\"はじめに\" style=\"position:relative;\"><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-label=\"はじめに permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はじめに</h2>\n<p>Gitでバージョン管理をしている場合に、GitHubにあげたくないファイルがあると思います。<br>\n例えばパスワードなどが記載されていたりするファイルなどですね。</p>\n<p>その時にGitのバージョン管理から外す＝上げないようにするための方法を記載します。</p>\n<h2 id=\"gitのバージョン管理から外す方法\" style=\"position:relative;\"><a href=\"#git%E3%81%AE%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86%E3%81%8B%E3%82%89%E5%A4%96%E3%81%99%E6%96%B9%E6%B3%95\" aria-label=\"gitのバージョン管理から外す方法 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gitのバージョン管理から外す方法</h2>\n<ol>\n<li>.gitignoreという名前のファイルを作成する</li>\n<li>バージョン管理から除外したいファイルやフォルダがある階層に.gitignoreを置く</li>\n<li>.gitignoreに除外したいファイルのパスを記載する</li>\n</ol>\n<h2 id=\"gitignoreファイルの記載例\" style=\"position:relative;\"><a href=\"#gitignore%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E8%A8%98%E8%BC%89%E4%BE%8B\" aria-label=\"gitignoreファイルの記載例 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>.gitignoreファイルの記載例</h2>\n\n        <div class=\"gatsby-code-title your-custom-class-name\">\n          <span>gitignore</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"gitignore\"><pre class=\"language-gitignore\"><code class=\"language-gitignore\"><span class=\"token comment\"># #はコメントです。以下は一例なので、そのほかの記載はネットなど見てみてください。</span>\n\n<span class=\"token comment\"># 指定したファイルを除外</span>\n<span class=\"token comment\">#.gitignoreがおいてある階層のindex.htmlのみが除外される</span>\n<span class=\"token entry string\"><span class=\"token punctuation\">/</span>index.html</span>\n\n<span class=\"token comment\"># 指定したファイルをすべて除外</span>\n<span class=\"token comment\">#.gitignoreがおいてある階層配下でindex.htmlというファイル名を全部除外する</span>\n<span class=\"token entry string\">index.html</span>\n\n<span class=\"token comment\">#指定したディレクトリをすべて除外</span>\n<span class=\"token comment\">#.gitignoreがおいてある階層配下でdirというフォルダ配下を全部除外する</span>\n<span class=\"token entry string\">dir<span class=\"token punctuation\">/</span></span></code></pre></div>\n<h2 id=\"gitignoreの特徴の一例\" style=\"position:relative;\"><a href=\"#gitignore%E3%81%AE%E7%89%B9%E5%BE%B4%E3%81%AE%E4%B8%80%E4%BE%8B\" aria-label=\"gitignoreの特徴の一例 permalink\" class=\"toc-icon before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>.gitignoreの特徴の一例</h2>\n<ol>\n<li>.gitignoreは複数のディレクトリに置くことができます</li>\n<li>深いフォルダの.gitignoreが優先されます</li>\n</ol>\n<p>個人的に上記を踏まえ、ディレクトリごとに簡単な記載で.gitignoreファイルを作成してもよいのかなと思っています。</p>\n<p>慣れてきたら、まとめて無駄なく書きたい気持ちはありますが。<br>\n以下のサイトが参考になるので、もっと詳しい内容を知りたい場合はぜひ参考にしてみてください。</p>\n<div class=\"boxparts ref\">\n  <div class=\"title\"></div>\n<p><a href=\"https://qiita.com/anqooqie/items/110957797b3d5280c44f\">[Git] .gitignoreの仕様詳解</a></p>\n<p><a href=\"https://github.com/github/gitignore\">A collection of .gitignore templates</a><br>\n※公式の .gitignore のテンプレート集です。</p>\n</div>","timeToRead":1,"frontmatter":{"title":"【Git/GitHub】GitHubにファイルを上げないようにする方法","date":"2020-06-09","slug":"gitignore","hero_image":{"childrenImageSharp":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/ef468e275a2c13d0bc7156549261fde6/5df10/Octocat.png","srcSet":"/static/ef468e275a2c13d0bc7156549261fde6/cd06d/Octocat.png 200w,\n/static/ef468e275a2c13d0bc7156549261fde6/a125c/Octocat.png 400w,\n/static/ef468e275a2c13d0bc7156549261fde6/5df10/Octocat.png 800w","sizes":"(min-width: 800px) 800px, 100vw"},"sources":[{"srcSet":"/static/ef468e275a2c13d0bc7156549261fde6/ac810/Octocat.webp 200w,\n/static/ef468e275a2c13d0bc7156549261fde6/7bbc6/Octocat.webp 400w,\n/static/ef468e275a2c13d0bc7156549261fde6/cffeb/Octocat.webp 800w","type":"image/webp","sizes":"(min-width: 800px) 800px, 100vw"}]},"width":800,"height":665}}]}}}}]},"allSite":{"edges":[{"node":{"siteMetadata":{"profile":"\n    いつでも転職希望の 業務経験6年目(2022時点)のプログラマーのブログです。\n\n希望条件は手取り30万以上、基本残業なし、ある程度保守運用が管理されていて、ある程度精神的な安全がある職場で働きたいです。 経験言語はHTML、CSS、javascript、PHP、MySQL、Docker、Vuejs、Laravel\n\n経験3年目でこのブログをはじめてしばらく放置してましたが、なんとか見た目平均年収以上は稼げるようになりました。\n    ","user":{"name":"taka","job":"プログラマー"}}}}]}},"pageContext":{"pageNumber":1,"humanPageNumber":2,"skip":10,"limit":10,"numberOfPages":4,"previousPagePath":"/","nextPagePath":"/page/3"}},"staticQueryHashes":["2786925534","3000541721","3159585216","3358258035","426580341","602374650"],"slicesMap":{}}